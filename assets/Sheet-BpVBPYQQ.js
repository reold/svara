var P=i=>{throw TypeError(i)};var O=(i,e,t)=>e.has(i)||P("Cannot "+t);var s=(i,e,t)=>(O(i,e,"read from private field"),t?t.call(i):e.get(i)),d=(i,e,t)=>e.has(i)?P("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,t),l=(i,e,t,r)=>(O(i,e,"write to private field"),r?r.call(i,t):e.set(i,t),t),R=(i,e,t)=>(O(i,e,"access private method"),t);import{j,a2 as nt,h as v,a3 as lt,a4 as ot,a5 as dt,a6 as ht,l as p,p as ct,w as X,x as ft,z as ut,c as mt,y as vt,e as q,a as pt,b as gt,d as bt,X as wt,o as yt,f as kt,s as T,g as A,a7 as F,A as xt,R as _t,K as H,a0 as G,J as Mt,L as N}from"./index-DKE6VTDk.js";function Q(i){return Object.prototype.toString.call(i)==="[object Date]"}function V(i,e,t,r){if(typeof t=="number"||Q(t)){const n=r-t,a=(t-e)/(i.dt||1/60),h=i.opts.stiffness*n,b=i.opts.damping*a,L=(h-b)*i.inv_mass,D=(a+L)*i.dt;return Math.abs(D)<i.opts.precision&&Math.abs(n)<i.opts.precision?r:(i.settled=!1,Q(t)?new Date(t.getTime()+D):t+D)}else{if(Array.isArray(t))return t.map((n,a)=>V(i,e[a],t[a],r[a]));if(typeof t=="object"){const n={};for(const a in t)n[a]=V(i,e[a],t[a],r[a]);return n}else throw new Error(`Cannot spring ${typeof t} values`)}}var w,y,k,f,g,x,S,_,E,u,Y,z,U;const B=class B{constructor(e,t={}){d(this,z);d(this,w,j(.15));d(this,y,j(.8));d(this,k,j(.01));d(this,f);d(this,g);d(this,x);d(this,S,0);d(this,_,1);d(this,E,0);d(this,u,null);d(this,Y,null);l(this,f,j(e)),l(this,g,j(e)),typeof t.stiffness=="number"&&(s(this,w).v=C(t.stiffness,0,1)),typeof t.damping=="number"&&(s(this,y).v=C(t.damping,0,1)),typeof t.precision=="number"&&(s(this,k).v=t.precision)}static of(e,t){const r=new B(e(),t);return nt(()=>{r.set(e())}),r}set(e,t){var n,a;if((n=s(this,Y))==null||n.reject(new Error("Aborted")),t!=null&&t.instant||s(this,f).v===void 0)return(a=s(this,u))==null||a.abort(),l(this,u,null),v(s(this,f),v(s(this,g),e)),l(this,x,e),Promise.resolve();t!=null&&t.preserveMomentum&&(l(this,_,0),l(this,E,t.preserveMomentum));var r=l(this,Y,dt());return r.promise.catch(ht),R(this,z,U).call(this,e).then(()=>{r===s(this,Y)&&r.resolve(void 0)}),r.promise}get current(){return p(s(this,f))}get damping(){return p(s(this,y))}set damping(e){v(s(this,y),C(e,0,1))}get precision(){return p(s(this,k))}set precision(e){v(s(this,k),e)}get stiffness(){return p(s(this,w))}set stiffness(e){v(s(this,w),C(e,0,1))}get target(){return p(s(this,g))}set target(e){this.set(e)}};w=new WeakMap,y=new WeakMap,k=new WeakMap,f=new WeakMap,g=new WeakMap,x=new WeakMap,S=new WeakMap,_=new WeakMap,E=new WeakMap,u=new WeakMap,Y=new WeakMap,z=new WeakSet,U=function(e){var r;if(v(s(this,g),e),(r=s(this,f)).v??(r.v=e),s(this,x)??l(this,x,s(this,f).v),!s(this,u)){l(this,S,lt.now());var t=1e3/(s(this,E)*60);s(this,u)??l(this,u,ot(n=>{l(this,_,Math.min(s(this,_)+t,1));const a=Math.min(n-s(this,S),1e3/30),h={inv_mass:s(this,_),opts:{stiffness:s(this,w).v,damping:s(this,y).v,precision:s(this,k).v},settled:!0,dt:a*60/1e3};var b=V(h,s(this,x),s(this,f).v,s(this,g).v);return l(this,x,s(this,f).v),l(this,S,n),v(s(this,f),b),h.settled&&l(this,u,null),!h.settled}))}return s(this,u).promise};let Z=B;function C(i,e,t){return Math.max(e,Math.min(t,i))}var jt=kt('<div class="w-screen h-screen absolute top-0 overflow-y-hidden" id="collapse-sheet"><div class="w-full h-full backdrop-brightness-40 relative top-0"></div> <div class="bg-panel w-full h-[95vh] absolute rounded-t-[1em] overflow-clip"><div class="mt-[1vh] w-full h-[5px] flex flex-col items-center justify-center"><div class="bg-black/50 dark:bg-white/50 w-[5ch] h-full rounded-full"></div></div> <div class="w-full flex flex-row justify-center h-[7.5%] mt-[5%] relative border-b border-black/25 dark:border-white/25 text-2xl font-black"><!> <button class="-top-[calc(1vh+5px)] absolute right-[1ch]" aria-label="close sheet"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="size-6 dark:fill-white fill-black"><path fill-rule="evenodd" d="M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z" clip-rule="evenodd"></path></svg></button></div> <div class="px-2 pt-4 h-[87.5%] flex flex-col items-center justify-start"><!></div></div></div>');function Dt(i,e){gt(e,!0);let t=ct(e,"visible",15,!1),r=j(X(t()));const n=X({held:!1,originY:0}),a=()=>{t(!1)};ft(()=>{const c=wt(e.id,a);yt(()=>{t()!==p(r)&&(c(t()),v(r,t(),!0))})});const h=new Z(0,{stiffness:.15,damping:.8});let b=!1,L=Mt(()=>b?0:250);function D(c){let o=c;for(;o.id!=="collapse-sheet";){const M=window.getComputedStyle(o).overflowY;if((M==="auto"||M==="scroll")&&o.scrollHeight>o.clientHeight&&o.scrollTop>0)return!0;o=o.parentElement}return!1}const W=c=>{D(c.target)||(n.held=!0,n.originY=c.touches[0].clientY)},$=c=>{if(!n.held)return;const o=n.originY-c.touches[0].clientY;o<0&&(h.target=o)},tt=()=>{n.held=!1,-h.current>document.body.clientHeight/3?(b=!0,h.target=-document.body.clientHeight,setTimeout(()=>{a(),h.target=0,b=!1},300)):h.target=0};var I=ut(),et=mt(I);{var st=c=>{var o=jt(),M=A(o),m=T(M,2);m.__touchstart=W,m.__touchmove=$,m.__touchend=tt;var J=T(A(m),2),K=A(J);F(K,()=>e.title);var it=T(K,2);it.__click=()=>a();var rt=T(J,2),at=A(rt);F(at,()=>e.body),xt(()=>_t(m,`bottom: 0px; transform: translate3d(0, ${-h.current}px, 0); will-change: transform;`)),H(1,M,()=>G,()=>({duration:300})),H(2,M,()=>G,()=>({duration:500})),H(1,m,()=>N,()=>({duration:p(L)})),H(2,m,()=>N,()=>({duration:p(L)})),q(c,o)};vt(et,c=>{t()&&c(st)})}q(i,I),pt()}bt(["touchstart","touchmove","touchend","click"]);export{Dt as S};
